<!-- admin.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | David IGE</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Google Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary-dark: #0c2039;
            --primary: #1a365d;
            --primary-light: #2d4a7a;
            --accent-gold: #b59410;
            --accent-gold-light: #d4b95a;
            --success: #1e7e34;
            --danger: #dc3545;
            --warning: #ffc107;
            --info: #17a2b8;
            --dark: #121212;
            --dark-gray: #2d3748;
            --medium-gray: #4a5568;
            --light-gray: #e2e8f0;
            --light: #f8fafc;
            --white: #ffffff;
            
            --shadow-subtle: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-soft: 0 4px 12px rgba(0,0,0,0.08);
            --shadow-medium: 0 8px 24px rgba(0,0,0,0.12);
            
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 12px;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--light);
            color: var(--dark);
        }
        
        /* Login Page */
        .login-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            padding: 20px;
        }
        
        .login-box {
            background: var(--white);
            padding: 40px;
            border-radius: var(--radius-lg);
            width: 100%;
            max-width: 400px;
            box-shadow: var(--shadow-medium);
        }
        
        .login-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .login-header h1 {
            color: var(--primary);
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .login-header p {
            color: var(--medium-gray);
        }
        
        .login-form .form-group {
            margin-bottom: 20px;
        }
        
        .login-form label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }
        
        .login-form input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--light-gray);
            border-radius: var(--radius-sm);
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .login-form input:focus {
            outline: none;
            border-color: var(--accent-gold);
            box-shadow: 0 0 0 3px rgba(181,148,16,0.1);
        }
        
        .login-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: var(--white);
            border: none;
            border-radius: var(--radius-sm);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-soft);
        }
        
        .login-error {
            color: var(--danger);
            margin-top: 15px;
            text-align: center;
            display: none;
        }
        
        /* Admin Panel */
        .admin-panel {
            display: none;
            min-height: 100vh;
        }
        
        .admin-header {
            background: var(--white);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--light-gray);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            box-shadow: var(--shadow-subtle);
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 30px;
        }
        
        .menu-toggle {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--primary);
            display: none;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--primary);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
        }
        
        .logo-text h2 {
            font-size: 1.2rem;
            color: var(--primary);
        }
        
        .logo-text p {
            font-size: 0.7rem;
            color: var(--medium-gray);
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .admin-profile {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .admin-info {
            text-align: right;
        }
        
        .admin-name {
            font-weight: 600;
        }
        
        .admin-role {
            font-size: 0.85rem;
            color: var(--medium-gray);
        }
        
        .admin-avatar {
            width: 45px;
            height: 45px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-weight: 600;
        }
        
        .logout-btn {
            background: none;
            border: 1px solid var(--light-gray);
            padding: 8px 16px;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .logout-btn:hover {
            background: var(--danger);
            color: var(--white);
            border-color: var(--danger);
        }
        
        /* Sidebar */
        .admin-sidebar {
            position: fixed;
            top: 76px;
            left: 0;
            bottom: 0;
            width: 260px;
            background: linear-gradient(180deg, var(--primary-dark), var(--primary));
            color: var(--white);
            overflow-y: auto;
            transition: all 0.3s;
        }
        
        .sidebar-nav {
            list-style: none;
            padding: 20px 0;
        }
        
        .nav-item {
            margin-bottom: 5px;
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            color: rgba(255,255,255,0.7);
            text-decoration: none;
            transition: all 0.3s;
            cursor: pointer;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            font-size: 0.95rem;
        }
        
        .nav-link:hover,
        .nav-link.active {
            background: rgba(255,255,255,0.1);
            color: var(--white);
        }
        
        .nav-link .material-symbols-outlined {
            font-size: 20px;
        }
        
        /* Main Content */
        .admin-main {
            margin-left: 260px;
            margin-top: 76px;
            padding: 30px;
            transition: all 0.3s;
        }
        
        /* Page Header */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .page-header h1 {
            color: var(--primary);
            font-size: 2rem;
        }
        
        .page-header p {
            color: var(--medium-gray);
        }
        
        .header-actions {
            display: flex;
            gap: 15px;
        }
        
        .action-btn {
            padding: 10px 20px;
            background: var(--white);
            border: 1px solid var(--light-gray);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
        }
        
        .action-btn:hover {
            background: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }
        
        .action-btn.primary {
            background: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: var(--white);
            padding: 25px;
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-subtle);
            display: flex;
            align-items: center;
            gap: 20px;
            border: 1px solid var(--light-gray);
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-gold);
            box-shadow: var(--shadow-soft);
        }
        
        .stat-icon {
            width: 60px;
            height: 60px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
        }
        
        .stat-content h3 {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .stat-content p {
            color: var(--medium-gray);
        }
        
        /* Content Sections */
        .content-section {
            background: var(--white);
            border-radius: var(--radius-md);
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid var(--light-gray);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light-gray);
        }
        
        .section-header h2 {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--primary);
            font-size: 1.3rem;
        }
        
        /* Tables */
        .table-responsive {
            overflow-x: auto;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .data-table th {
            text-align: left;
            padding: 12px;
            background: var(--light);
            color: var(--primary);
            font-weight: 600;
            border-bottom: 2px solid var(--accent-gold);
        }
        
        .data-table td {
            padding: 12px;
            border-bottom: 1px solid var(--light-gray);
            color: var(--dark-gray);
        }
        
        .data-table tr:hover td {
            background: var(--light);
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 30px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .status-pending { background: #fff3cd; color: #856404; }
        .status-approved { background: #d4edda; color: #155724; }
        .status-replied { background: #cce5ff; color: #004085; }
        
        .table-actions {
            display: flex;
            gap: 8px;
        }
        
        .table-btn {
            background: none;
            border: none;
            padding: 5px;
            cursor: pointer;
            border-radius: var(--radius-sm);
            transition: all 0.3s;
            color: var(--medium-gray);
        }
        
        .table-btn:hover {
            background: var(--light);
        }
        
        .table-btn.edit:hover { color: var(--primary); }
        .table-btn.view:hover { color: var(--info); }
        .table-btn.delete:hover { color: var(--danger); }
        
        /* Settings Sections */
        .settings-section {
            margin-bottom: 30px;
            padding: 25px;
            background: var(--light);
            border-radius: var(--radius-md);
        }
        
        .settings-section h3 {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--light-gray);
        }
        
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .setting-item {
            background: var(--white);
            padding: 20px;
            border-radius: var(--radius-sm);
        }
        
        .setting-label {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 8px;
        }
        
        .setting-value {
            color: var(--primary);
            font-size: 1.1rem;
        }
        
        /* Forms */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }
        
        .form-control {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--light-gray);
            border-radius: var(--radius-sm);
            font-family: inherit;
            font-size: 0.95rem;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--accent-gold);
            box-shadow: 0 0 0 3px rgba(181,148,16,0.1);
        }
        
        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
        }
        
        .save-btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: var(--white);
            border: none;
            border-radius: var(--radius-sm);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
        }
        
        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-soft);
        }
        
        .save-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: var(--white);
            width: 600px;
            max-width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-medium);
        }
        
        .modal-header {
            background: var(--primary);
            color: var(--white);
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
        }
        
        .modal-close {
            background: none;
            border: none;
            color: var(--white);
            cursor: pointer;
            font-size: 1.5rem;
        }
        
        .modal-body {
            padding: 25px;
        }
        
        .modal-footer {
            padding: 20px;
            border-top: 1px solid var(--light-gray);
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            position: sticky;
            bottom: 0;
            background: var(--white);
        }
        
        /* Loading State */
        .loading {
            text-align: center;
            padding: 50px;
            color: var(--medium-gray);
        }
        
        /* Responsive */
        @media (max-width: 1200px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 992px) {
            .menu-toggle {
                display: block;
            }
            
            .admin-sidebar {
                transform: translateX(-100%);
                z-index: 99;
            }
            
            .admin-sidebar.active {
                transform: translateX(0);
            }
            
            .admin-main {
                margin-left: 0;
            }
        }
        
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .header-right {
                display: none;
            }
            
            .page-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .header-actions {
                width: 100%;
            }
            
            .action-btn {
                flex: 1;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div class="login-container" id="loginPage">
        <div class="login-box">
            <div class="login-header">
                <h1>Admin Login</h1>
                <p>Enter your credentials to access the dashboard</p>
            </div>
            <form class="login-form" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" id="username" value="admin" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="password" placeholder="Enter 0000" required>
                </div>
                <button type="submit" class="login-btn">Login to Dashboard</button>
                <div class="login-error" id="loginError">Invalid credentials. Use 0000 as password.</div>
            </form>
            <div style="text-align: center; margin-top: 20px; color: var(--medium-gray); font-size: 0.9rem;">
                Demo: Use any username with password 0000
            </div>
        </div>
    </div>
    
    <!-- Admin Panel -->
    <div class="admin-panel" id="adminPanel">
        <!-- Header -->
        <header class="admin-header">
            <div class="header-left">
                <button class="menu-toggle" onclick="toggleSidebar()">
                    <span class="material-symbols-outlined">menu</span>
                </button>
                <div class="logo">
                    <div class="logo-icon">
                        <span class="material-symbols-outlined">admin_panel_settings</span>
                    </div>
                    <div class="logo-text">
                        <h2>Admin Panel</h2>
                        <p>David IGE Portfolio</p>
                    </div>
                </div>
            </div>
            <div class="header-right">
                <div class="admin-profile">
                    <div class="admin-info">
                        <div class="admin-name" id="adminName">Admin User</div>
                        <div class="admin-role">Administrator</div>
                    </div>
                    <div class="admin-avatar">AD</div>
                </div>
                <button class="logout-btn" onclick="handleLogout()">
                    <span class="material-symbols-outlined">logout</span>
                </button>
            </div>
        </header>
        
        <!-- Sidebar -->
        <aside class="admin-sidebar" id="adminSidebar">
            <ul class="sidebar-nav">
                <li class="nav-item">
                    <button class="nav-link active" onclick="loadSection('dashboard', this)">
                        <span class="material-symbols-outlined">dashboard</span>
                        Dashboard
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" onclick="loadSection('contacts', this)">
                        <span class="material-symbols-outlined">mail</span>
                        Contact Requests
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" onclick="loadSection('requests', this)">
                        <span class="material-symbols-outlined">info</span>
                        Info Requests
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" onclick="loadSection('email', this)">
                        <span class="material-symbols-outlined">email</span>
                        Email Templates
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" onclick="loadSection('comments', this)">
                        <span class="material-symbols-outlined">comment</span>
                        Comments
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" onclick="loadSection('projects', this)">
                        <span class="material-symbols-outlined">folder</span>
                        Projects
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" onclick="loadSection('site-content', this)">
                        <span class="material-symbols-outlined">edit_note</span>
                        Site Content
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" onclick="loadSection('appearance', this)">
                        <span class="material-symbols-outlined">palette</span>
                        Appearance
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" onclick="loadSection('settings', this)">
                        <span class="material-symbols-outlined">settings</span>
                        Settings
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" onclick="loadSection('profile', this)">
                        <span class="material-symbols-outlined">person</span>
                        Profile
                    </button>
                </li>
            </ul>
        </aside>
        
        <!-- Main Content -->
        <main class="admin-main" id="mainContent">
            <!-- Content will be loaded dynamically -->
            <div class="loading">Select a section from the sidebar</div>
        </main>
    </div>
    
    <!-- Modal -->
    <div class="modal" id="editModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Edit Item</h3>
                <button class="modal-close" onclick="closeModal()">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Dynamic form content -->
            </div>
            <div class="modal-footer">
                <button class="action-btn" onclick="closeModal()">Cancel</button>
                <button class="save-btn" onclick="saveItem()">Save Changes</button>
            </div>
        </div>
    </div>
    
    <script>
        // ==================== INITIALIZATION ====================
        // Default site data (from data.js)
        const defaultSiteData = {
            personal: {
                name: "David Oloruntobi IGE",
                title: "Senior Product/Programmes Manager",
                role: "Product Growth & Operations Lead",
                location: "Lagos, Nigeria",
                email: "david.ige@example.com",
                phone: "+234 803 456 7890",
                about: "High-driven Product/Programmes Manager with 6+ years of experience in scaling Digital programmes and Fintech solutions across Africa."
            },
            work: [
                { company: "DTOTAL TECH CONSULT", title: "Product/Programme Manager (AI Products Lab)", period: "Feb 2025 - Present", location: "Lagos, Nigeria" },
                { company: "GCTN Fintech Group", title: "PRODUCT/OPERATIONS MANAGER (GROUP)", period: "Jan 2024 - Feb 2025", location: "Lagos, Nigeria" },
                { company: "ASIKO ENERGY HOLDINGS", title: "PRODUCT MANAGER/TECH LEAD", period: "May 2024 - Dec 2024", location: "Lagos, Nigeria" },
                { company: "KOOHA (MediaTech)", title: "PRODUCT MANAGER (LEAD)", period: "May 2023 - Dec 2024", location: "Lagos, Nigeria" },
                { company: "ISIDORE TECHNOLOGIES", title: "PRODUCT MANAGER", period: "Oct 2022 - Dec 2023", location: "Lagos, Nigeria" }
            ],
            skills: [
                { category: "Product Strategy", items: ["Product Vision", "Roadmap Development", "Feature Prioritization", "Strategic Planning"] },
                { category: "Product Execution", items: ["UX Research", "Documentation", "Product Delivery", "Product Lifecycle Management"] },
                { category: "Product Data Analytics", items: ["SQL Data Query", "Data Aggregation", "Metrics Dashboards", "User Feedback Analysis", "KPI Tracking"] }
            ],
            certificates: [
                { name: "ASANA Workflow Implementation Specialist", issuer: "ASANA Academy", date: "Jan 2025" },
                { name: "Building/Managing AI Products", issuer: "Marily-Nika", date: "Jan 2023" },
                { name: "Design, Product, Developer Programme", issuer: "UK-Nigeria Tech Hub", date: "Jan 2022" },
                { name: "Certified Product Manager", issuer: "UDEMY", date: "Jan 2021" }
            ],
            education: [
                { degree: "MBA - Technology Business Management", institution: "QUANTIC School of Business & Technology, USA", period: "2023-2025" },
                { degree: "B.Sc. Biochemistry", institution: "University of Ilorin, Nigeria", period: "2012-2016" }
            ],
            projects: [
                { id: "dt-realty", title: "DT Realty Advisory", category: "AI Product", featured: true },
                { id: "liminai", title: "LiminAI", category: "AI Product", featured: true },
                { id: "examineai", title: "ExamineAI", category: "EdTech", featured: true },
                { id: "koynova", title: "KOYNOVA", category: "Fintech", featured: true }
            ]
        };
        
        // Initialize localStorage with default data if empty
        function initializeData() {
            if (!localStorage.getItem('contacts')) {
                localStorage.setItem('contacts', JSON.stringify([
                    { id: 1, name: 'John Doe', email: 'john@example.com', subject: 'Consultation Inquiry', message: 'Interested in product strategy consultation for our startup', date: '2025-02-15', status: 'pending' },
                    { id: 2, name: 'Jane Smith', email: 'jane@example.com', subject: 'Partnership Opportunity', message: 'Looking to partner on fintech project in Nigeria', date: '2025-02-14', status: 'replied' },
                    { id: 3, name: 'Mike Johnson', email: 'mike@example.com', subject: 'Speaking Engagement', message: 'Would you be interested in speaking at our tech conference?', date: '2025-02-13', status: 'approved' }
                ]));
            }
            
            if (!localStorage.getItem('requests')) {
                localStorage.setItem('requests', JSON.stringify([
                    { id: 1, name: 'Sarah Williams', email: 'sarah@example.com', company: 'Tech Corp', requestType: 'cv', details: 'Please send your full CV for review', date: '2025-02-15', status: 'pending' },
                    { id: 2, name: 'David Adeleke', email: 'david@example.com', company: 'FinTech Ltd', requestType: 'consultation', details: 'Need product consultation for new fintech product', date: '2025-02-14', status: 'approved' },
                    { id: 3, name: 'Peace Okafor', email: 'peace@example.com', company: 'Startup Hub', requestType: 'references', details: 'Requesting professional references for speaking engagement', date: '2025-02-12', status: 'replied' }
                ]));
            }
            
            if (!localStorage.getItem('comments')) {
                localStorage.setItem('comments', JSON.stringify([
                    { id: 1, projectId: 'dt-realty', name: 'Adekunle Ola', comment: 'Great project! The investment scoring feature is brilliant.', rating: 5, date: '2025-02-15', approved: false, likes: 12, hearts: 5, dislikes: 1 },
                    { id: 2, projectId: 'liminai', name: 'Chioma Nnamdi', comment: 'Very useful platform for document processing', rating: 4, date: '2025-02-14', approved: true, likes: 8, hearts: 3, dislikes: 0 },
                    { id: 3, projectId: 'koynova', name: 'Femi Adebayo', comment: 'KOYNOVA has been my go-to exchange', rating: 5, date: '2025-02-13', approved: true, likes: 15, hearts: 7, dislikes: 0 }
                ]));
            }
            
            if (!localStorage.getItem('siteData')) {
                localStorage.setItem('siteData', JSON.stringify(defaultSiteData));
            }
            
            if (!localStorage.getItem('appearance')) {
                localStorage.setItem('appearance', JSON.stringify({
                    primaryColor: '#1a365d',
                    accentColor: '#b59410',
                    bgColor: '#f8fafc',
                    headingFont: 'Playfair Display',
                    bodyFont: 'Inter'
                }));
            }
        }
        
        // Call initialization
        initializeData();
        
        // ==================== LOGIN SYSTEM ====================
        function handleLogin(e) {
            e.preventDefault();
            const password = document.getElementById('password').value;
            
            if (password === '0000') {
                document.getElementById('loginPage').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                document.getElementById('adminName').textContent = document.getElementById('username').value || 'Admin User';
                // Load dashboard by default
                const dashboardNav = document.querySelector('[onclick="loadSection(\'dashboard\', this)"]');
                if (dashboardNav) {
                    loadSection('dashboard', dashboardNav);
                }
            } else {
                document.getElementById('loginError').style.display = 'block';
            }
        }
        
        function handleLogout() {
            document.getElementById('loginPage').style.display = 'flex';
            document.getElementById('adminPanel').style.display = 'none';
            document.getElementById('password').value = '';
            document.getElementById('loginError').style.display = 'none';
        }
        
        // ==================== NAVIGATION ====================
        function toggleSidebar() {
            document.getElementById('adminSidebar').classList.toggle('active');
        }
        
        function loadSection(section, element) {
            // Update active nav link
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            if (element) {
                element.classList.add('active');
            }
            
            // Close sidebar on mobile
            if (window.innerWidth <= 992) {
                document.getElementById('adminSidebar').classList.remove('active');
            }
            
            // Load appropriate content
            const mainContent = document.getElementById('mainContent');
            
            switch(section) {
                case 'dashboard':
                    mainContent.innerHTML = getDashboardHTML();
                    setTimeout(() => loadDashboardData(), 100);
                    break;
                case 'contacts':
                    mainContent.innerHTML = getContactsHTML();
                    setTimeout(() => loadContactsData(), 100);
                    break;
                case 'requests':
                    mainContent.innerHTML = getRequestsHTML();
                    setTimeout(() => loadRequestsData(), 100);
                    break;
                case 'email':
                    mainContent.innerHTML = getEmailHTML();
                    break;
                case 'comments':
                    mainContent.innerHTML = getCommentsHTML();
                    setTimeout(() => loadCommentsData(), 100);
                    break;
                case 'projects':
                    mainContent.innerHTML = getProjectsHTML();
                    setTimeout(() => loadProjectsData(), 100);
                    break;
                case 'site-content':
                    mainContent.innerHTML = getSiteContentHTML();
                    setTimeout(() => loadSiteContentData(), 100);
                    break;
                case 'appearance':
                    mainContent.innerHTML = getAppearanceHTML();
                    setTimeout(() => loadAppearanceData(), 100);
                    break;
                case 'settings':
                    mainContent.innerHTML = getSettingsHTML();
                    break;
                case 'profile':
                    mainContent.innerHTML = getProfileHTML();
                    setTimeout(() => loadProfileData(), 100);
                    break;
                default:
                    mainContent.innerHTML = '<div class="loading">Select a section from the sidebar</div>';
            }
        }
        
        // ==================== DASHBOARD ====================
        function getDashboardHTML() {
            return `
                <div class="page-header">
                    <div>
                        <h1>Dashboard</h1>
                        <p>Welcome back! Here's what's happening with your site.</p>
                    </div>
                </div>
                
                <div class="stats-grid" id="dashboardStats"></div>
                
                <div class="content-section">
                    <div class="section-header">
                        <h2>
                            <span class="material-symbols-outlined">mail</span>
                            Recent Contact Requests
                        </h2>
                        <button class="action-btn" onclick="loadSection('contacts', document.querySelector('[onclick*=\\'contacts\\']'))">
                            <span class="material-symbols-outlined">arrow_forward</span>
                            View All
                        </button>
                    </div>
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Subject</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="recentContactsBody"></tbody>
                        </table>
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="section-header">
                        <h2>
                            <span class="material-symbols-outlined">info</span>
                            Recent Info Requests
                        </h2>
                        <button class="action-btn" onclick="loadSection('requests', document.querySelector('[onclick*=\\'requests\\']'))">
                            <span class="material-symbols-outlined">arrow_forward</span>
                            View All
                        </button>
                    </div>
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Company</th>
                                    <th>Request Type</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="recentRequestsBody"></tbody>
                        </table>
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="section-header">
                        <h2>
                            <span class="material-symbols-outlined">comment</span>
                            Pending Comments
                        </h2>
                        <button class="action-btn" onclick="loadSection('comments', document.querySelector('[onclick*=\\'comments\\']'))">
                            <span class="material-symbols-outlined">arrow_forward</span>
                            Moderate
                        </button>
                    </div>
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Project</th>
                                    <th>Comment</th>
                                    <th>Rating</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="pendingCommentsBody"></tbody>
                        </table>
                    </div>
                </div>
            `;
        }
        
        function loadDashboardData() {
            const contacts = JSON.parse(localStorage.getItem('contacts')) || [];
            const requests = JSON.parse(localStorage.getItem('requests')) || [];
            const comments = JSON.parse(localStorage.getItem('comments')) || [];
            
            // Stats
            document.getElementById('dashboardStats').innerHTML = `
                <div class="stat-card">
                    <div class="stat-icon"><span class="material-symbols-outlined">mail</span></div>
                    <div class="stat-content">
                        <h3>${contacts.length}</h3>
                        <p>Total Contacts</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><span class="material-symbols-outlined">info</span></div>
                    <div class="stat-content">
                        <h3>${requests.length}</h3>
                        <p>Info Requests</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><span class="material-symbols-outlined">comment</span></div>
                    <div class="stat-content">
                        <h3>${comments.filter(c => !c.approved).length}</h3>
                        <p>Pending Comments</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><span class="material-symbols-outlined">folder</span></div>
                    <div class="stat-content">
                        <h3>${JSON.parse(localStorage.getItem('siteData')).projects.length}</h3>
                        <p>Projects</p>
                    </div>
                </div>
            `;
            
            // Recent contacts
            const recentContacts = contacts.slice(-3).reverse();
            document.getElementById('recentContactsBody').innerHTML = recentContacts.map(c => `
                <tr>
                    <td>${c.name}</td>
                    <td>${c.email}</td>
                    <td>${c.subject}</td>
                    <td>${c.date}</td>
                    <td><span class="status-badge status-${c.status}">${c.status}</span></td>
                    <td>
                        <div class="table-actions">
                            <button class="table-btn view" onclick="viewContact(${c.id})" title="View">
                                <span class="material-symbols-outlined">visibility</span>
                            </button>
                            <button class="table-btn delete" onclick="deleteContact(${c.id})" title="Delete">
                                <span class="material-symbols-outlined">delete</span>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
            
            // Recent requests
            const recentRequests = requests.slice(-3).reverse();
            document.getElementById('recentRequestsBody').innerHTML = recentRequests.map(r => `
                <tr>
                    <td>${r.name}</td>
                    <td>${r.company}</td>
                    <td>${r.requestType}</td>
                    <td>${r.date}</td>
                    <td><span class="status-badge status-${r.status}">${r.status}</span></td>
                    <td>
                        <div class="table-actions">
                            <button class="table-btn view" onclick="viewRequest(${r.id})" title="View">
                                <span class="material-symbols-outlined">visibility</span>
                            </button>
                            <button class="table-btn delete" onclick="deleteRequest(${r.id})" title="Delete">
                                <span class="material-symbols-outlined">delete</span>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
            
            // Pending comments
            const pendingComments = comments.filter(c => !c.approved).slice(0, 3);
            document.getElementById('pendingCommentsBody').innerHTML = pendingComments.map(c => `
                <tr>
                    <td>${c.name}</td>
                    <td>${c.projectId}</td>
                    <td>${c.comment.substring(0, 30)}...</td>
                    <td>${'â˜…'.repeat(c.rating)}</td>
                    <td>${c.date}</td>
                    <td>
                        <div class="table-actions">
                            <button class="table-btn" onclick="approveComment(${c.id})" style="color:var(--success);" title="Approve">
                                <span class="material-symbols-outlined">check_circle</span>
                            </button>
                            <button class="table-btn" onclick="rejectComment(${c.id})" style="color:var(--danger);" title="Reject">
                                <span class="material-symbols-outlined">cancel</span>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }
        
        // ==================== CONTACTS ====================
        function getContactsHTML() {
            return `
                <div class="page-header">
                    <div>
                        <h1>Contact Requests</h1>
                        <p>Manage all contact form submissions</p>
                    </div>
                    <div class="header-actions">
                        <button class="action-btn" onclick="exportContacts()">
                            <span class="material-symbols-outlined">download</span>
                            Export
                        </button>
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Subject</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="allContactsBody"></tbody>
                        </table>
                    </div>
                </div>
            `;
        }
        
        function loadContactsData() {
            const contacts = JSON.parse(localStorage.getItem('contacts')) || [];
            document.getElementById('allContactsBody').innerHTML = contacts.map(c => `
                <tr>
                    <td>${c.id}</td>
                    <td>${c.name}</td>
                    <td>${c.email}</td>
                    <td>${c.subject}</td>
                    <td>${c.date}</td>
                    <td><span class="status-badge status-${c.status}">${c.status}</span></td>
                    <td>
                        <div class="table-actions">
                            <button class="table-btn view" onclick="viewContact(${c.id})" title="View">
                                <span class="material-symbols-outlined">visibility</span>
                            </button>
                            <button class="table-btn edit" onclick="editContact(${c.id})" title="Edit">
                                <span class="material-symbols-outlined">edit</span>
                            </button>
                            <button class="table-btn delete" onclick="deleteContact(${c.id})" title="Delete">
                                <span class="material-symbols-outlined">delete</span>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }
        
        function viewContact(id) {
            const contacts = JSON.parse(localStorage.getItem('contacts')) || [];
            const contact = contacts.find(c => c.id === id);
            if (contact) {
                openModal('View Contact', `
                    <div style="line-height: 1.8;">
                        <p><strong>ID:</strong> ${contact.id}</p>
                        <p><strong>Name:</strong> ${contact.name}</p>
                        <p><strong>Email:</strong> ${contact.email}</p>
                        <p><strong>Subject:</strong> ${contact.subject}</p>
                        <p><strong>Message:</strong><br>${contact.message}</p>
                        <p><strong>Date:</strong> ${contact.date}</p>
                        <p><strong>Status:</strong> ${contact.status}</p>
                    </div>
                `, false);
            }
        }
        
        function editContact(id) {
            const contacts = JSON.parse(localStorage.getItem('contacts')) || [];
            const contact = contacts.find(c => c.id === id);
            if (contact) {
                openModal('Edit Contact', `
                    <div class="form-group">
                        <label>Name</label>
                        <input type="text" class="form-control" id="editContactName" value="${contact.name}">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-control" id="editContactEmail" value="${contact.email}">
                    </div>
                    <div class="form-group">
                        <label>Subject</label>
                        <input type="text" class="form-control" id="editContactSubject" value="${contact.subject}">
                    </div>
                    <div class="form-group">
                        <label>Message</label>
                        <textarea class="form-control" id="editContactMessage" rows="4">${contact.message}</textarea>
                    </div>
                    <div class="form-group">
                        <label>Status</label>
                        <select class="form-control" id="editContactStatus">
                            <option value="pending" ${contact.status === 'pending' ? 'selected' : ''}>Pending</option>
                            <option value="approved" ${contact.status === 'approved' ? 'selected' : ''}>Approved</option>
                            <option value="replied" ${contact.status === 'replied' ? 'selected' : ''}>Replied</option>
                        </select>
                    </div>
                `, true, 'contact', id);
            }
        }
        
        function deleteContact(id) {
            if (confirm('Are you sure you want to delete this contact?')) {
                let contacts = JSON.parse(localStorage.getItem('contacts')) || [];
                contacts = contacts.filter(c => c.id !== id);
                localStorage.setItem('contacts', JSON.stringify(contacts));
                loadContactsData();
                loadDashboardData();
            }
        }
        
        // ==================== REQUESTS ====================
        function getRequestsHTML() {
            return `
                <div class="page-header">
                    <div>
                        <h1>Information Requests</h1>
                        <p>Manage all info requests</p>
                    </div>
                    <div class="header-actions">
                        <button class="action-btn" onclick="exportRequests()">
                            <span class="material-symbols-outlined">download</span>
                            Export
                        </button>
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Company</th>
                                    <th>Request Type</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="allRequestsBody"></tbody>
                        </table>
                    </div>
                </div>
            `;
        }
        
        function loadRequestsData() {
            const requests = JSON.parse(localStorage.getItem('requests')) || [];
            document.getElementById('allRequestsBody').innerHTML = requests.map(r => `
                <tr>
                    <td>${r.id}</td>
                    <td>${r.name}</td>
                    <td>${r.company}</td>
                    <td>${r.requestType}</td>
                    <td>${r.date}</td>
                    <td><span class="status-badge status-${r.status}">${r.status}</span></td>
                    <td>
                        <div class="table-actions">
                            <button class="table-btn view" onclick="viewRequest(${r.id})" title="View">
                                <span class="material-symbols-outlined">visibility</span>
                            </button>
                            <button class="table-btn edit" onclick="editRequest(${r.id})" title="Edit">
                                <span class="material-symbols-outlined">edit</span>
                            </button>
                            <button class="table-btn delete" onclick="deleteRequest(${r.id})" title="Delete">
                                <span class="material-symbols-outlined">delete</span>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }
        
        function viewRequest(id) {
            const requests = JSON.parse(localStorage.getItem('requests')) || [];
            const req = requests.find(r => r.id === id);
            if (req) {
                openModal('View Request', `
                    <div style="line-height: 1.8;">
                        <p><strong>ID:</strong> ${req.id}</p>
                        <p><strong>Name:</strong> ${req.name}</p>
                        <p><strong>Email:</strong> ${req.email}</p>
                        <p><strong>Company:</strong> ${req.company}</p>
                        <p><strong>Request Type:</strong> ${req.requestType}</p>
                        <p><strong>Details:</strong><br>${req.details}</p>
                        <p><strong>Date:</strong> ${req.date}</p>
                        <p><strong>Status:</strong> ${req.status}</p>
                    </div>
                `, false);
            }
        }
        
        function editRequest(id) {
            const requests = JSON.parse(localStorage.getItem('requests')) || [];
            const req = requests.find(r => r.id === id);
            if (req) {
                openModal('Edit Request', `
                    <div class="form-group">
                        <label>Name</label>
                        <input type="text" class="form-control" id="editRequestName" value="${req.name}">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-control" id="editRequestEmail" value="${req.email}">
                    </div>
                    <div class="form-group">
                        <label>Company</label>
                        <input type="text" class="form-control" id="editRequestCompany" value="${req.company}">
                    </div>
                    <div class="form-group">
                        <label>Request Type</label>
                        <input type="text" class="form-control" id="editRequestType" value="${req.requestType}">
                    </div>
                    <div class="form-group">
                        <label>Details</label>
                        <textarea class="form-control" id="editRequestDetails" rows="4">${req.details}</textarea>
                    </div>
                    <div class="form-group">
                        <label>Status</label>
                        <select class="form-control" id="editRequestStatus">
                            <option value="pending" ${req.status === 'pending' ? 'selected' : ''}>Pending</option>
                            <option value="approved" ${req.status === 'approved' ? 'selected' : ''}>Approved</option>
                            <option value="replied" ${req.status === 'replied' ? 'selected' : ''}>Replied</option>
                        </select>
                    </div>
                `, true, 'request', id);
            }
        }
        
        function deleteRequest(id) {
            if (confirm('Are you sure you want to delete this request?')) {
                let requests = JSON.parse(localStorage.getItem('requests')) || [];
                requests = requests.filter(r => r.id !== id);
                localStorage.setItem('requests', JSON.stringify(requests));
                loadRequestsData();
                loadDashboardData();
            }
        }
        
        // ==================== COMMENTS ====================
        function getCommentsHTML() {
            return `
                <div class="page-header">
                    <div>
                        <h1>Comments</h1>
                        <p>Moderate user comments</p>
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="section-header">
                        <h2>Pending Comments</h2>
                    </div>
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Project</th>
                                    <th>Comment</th>
                                    <th>Rating</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="pendingCommentsFullBody"></tbody>
                        </table>
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="section-header">
                        <h2>Approved Comments</h2>
                    </div>
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Project</th>
                                    <th>Comment</th>
                                    <th>Rating</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="approvedCommentsBody"></tbody>
                        </table>
                    </div>
                </div>
            `;
        }
        
        function loadCommentsData() {
            const comments = JSON.parse(localStorage.getItem('comments')) || [];
            
            // Pending comments
            const pendingComments = comments.filter(c => !c.approved);
            document.getElementById('pendingCommentsFullBody').innerHTML = pendingComments.map(c => `
                <tr>
                    <td>${c.name}</td>
                    <td>${c.projectId}</td>
                    <td>${c.comment.substring(0, 30)}...</td>
                    <td>${'â˜…'.repeat(c.rating)}</td>
                    <td>${c.date}</td>
                    <td>
                        <div class="table-actions">
                            <button class="table-btn" onclick="approveComment(${c.id})" style="color:var(--success);" title="Approve">
                                <span class="material-symbols-outlined">check_circle</span>
                            </button>
                            <button class="table-btn" onclick="rejectComment(${c.id})" style="color:var(--danger);" title="Reject">
                                <span class="material-symbols-outlined">cancel</span>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
            
            // Approved comments
            const approvedComments = comments.filter(c => c.approved);
            document.getElementById('approvedCommentsBody').innerHTML = approvedComments.map(c => `
                <tr>
                    <td>${c.name}</td>
                    <td>${c.projectId}</td>
                    <td>${c.comment.substring(0, 30)}...</td>
                    <td>${'â˜…'.repeat(c.rating)}</td>
                    <td>${c.date}</td>
                    <td>
                        <div class="table-actions">
                            <button class="table-btn view" onclick="viewComment(${c.id})" title="View">
                                <span class="material-symbols-outlined">visibility</span>
                            </button>
                            <button class="table-btn delete" onclick="deleteComment(${c.id})" title="Delete">
                                <span class="material-symbols-outlined">delete</span>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }
        
        function approveComment(id) {
            let comments = JSON.parse(localStorage.getItem('comments')) || [];
            comments = comments.map(c => c.id === id ? {...c, approved: true} : c);
            localStorage.setItem('comments', JSON.stringify(comments));
            loadCommentsData();
            loadDashboardData();
        }
        
        function rejectComment(id) {
            if (confirm('Reject this comment?')) {
                let comments = JSON.parse(localStorage.getItem('comments')) || [];
                comments = comments.filter(c => c.id !== id);
                localStorage.setItem('comments', JSON.stringify(comments));
                loadCommentsData();
                loadDashboardData();
            }
        }
        
        function deleteComment(id) {
            if (confirm('Delete this comment?')) {
                let comments = JSON.parse(localStorage.getItem('comments')) || [];
                comments = comments.filter(c => c.id !== id);
                localStorage.setItem('comments', JSON.stringify(comments));
                loadCommentsData();
                loadDashboardData();
            }
        }
        
        // ==================== SITE CONTENT EDITOR ====================
        function getSiteContentHTML() {
            return `
                <div class="page-header">
                    <div>
                        <h1>Site Content</h1>
                        <p>Edit all content displayed on your website</p>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>Personal Information</h3>
                    <div class="settings-grid" id="personalInfoGrid"></div>
                    <button class="save-btn" onclick="editPersonalInfo()" style="margin-top:20px;">
                        <span class="material-symbols-outlined">edit</span> Edit Personal Info
                    </button>
                </div>
                
                <div class="settings-section">
                    <h3>Work Experience</h3>
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Company</th>
                                    <th>Title</th>
                                    <th>Period</th>
                                    <th>Location</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="workTableBody"></tbody>
                        </table>
                    </div>
                    <button class="save-btn" onclick="addWorkItem()" style="margin-top:20px;">
                        <span class="material-symbols-outlined">add</span> Add Work Experience
                    </button>
                </div>
                
                <div class="settings-section">
                    <h3>Skills</h3>
                    <div id="skillsContainer"></div>
                    <button class="save-btn" onclick="addSkillCategory()" style="margin-top:20px;">
                        <span class="material-symbols-outlined">add</span> Add Skill Category
                    </button>
                </div>
                
                <div class="settings-section">
                    <h3>Certifications</h3>
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Issuer</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="certTableBody"></tbody>
                        </table>
                    </div>
                    <button class="save-btn" onclick="addCertification()" style="margin-top:20px;">
                        <span class="material-symbols-outlined">add</span> Add Certification
                    </button>
                </div>
                
                <div class="settings-section">
                    <h3>Education</h3>
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Degree</th>
                                    <th>Institution</th>
                                    <th>Period</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="eduTableBody"></tbody>
                        </table>
                    </div>
                    <button class="save-btn" onclick="addEducation()" style="margin-top:20px;">
                        <span class="material-symbols-outlined">add</span> Add Education
                    </button>
                </div>
                
                <div class="settings-section">
                    <h3>Projects</h3>
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Title</th>
                                    <th>Category</th>
                                    <th>Featured</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="projectsTableBody"></tbody>
                        </table>
                    </div>
                    <button class="save-btn" onclick="addProject()" style="margin-top:20px;">
                        <span class="material-symbols-outlined">add</span> Add Project
                    </button>
                </div>
            `;
        }
        
        function loadSiteContentData() {
            const siteData = JSON.parse(localStorage.getItem('siteData')) || defaultSiteData;
            
            // Personal Info
            document.getElementById('personalInfoGrid').innerHTML = `
                <div class="setting-item">
                    <div class="setting-label">Full Name</div>
                    <div class="setting-value">${siteData.personal.name}</div>
                </div>
                <div class="setting-item">
                    <div class="setting-label">Title</div>
                    <div class="setting-value">${siteData.personal.title}</div>
                </div>
                <div class="setting-item">
                    <div class="setting-label">Email</div>
                    <div class="setting-value">${siteData.personal.email}</div>
                </div>
                <div class="setting-item">
                    <div class="setting-label">Phone</div>
                    <div class="setting-value">${siteData.personal.phone}</div>
                </div>
                <div class="setting-item">
                    <div class="setting-label">Location</div>
                    <div class="setting-value">${siteData.personal.location}</div>
                </div>
                <div class="setting-item" style="grid-column: span 2;">
                    <div class="setting-label">About</div>
                    <div class="setting-value">${siteData.personal.about.substring(0, 100)}...</div>
                </div>
            `;
            
            // Work Experience
            document.getElementById('workTableBody').innerHTML = siteData.work.map((w, index) => `
                <tr>
                    <td>${w.company}</td>
                    <td>${w.title}</td>
                    <td>${w.period}</td>
                    <td>${w.location}</td>
                    <td>
                        <div class="table-actions">
                            <button class="table-btn edit" onclick="editWorkItem(${index})" title="Edit">
                                <span class="material-symbols-outlined">edit</span>
                            </button>
                            <button class="table-btn delete" onclick="deleteWorkItem(${index})" title="Delete">
                                <span class="material-symbols-outlined">delete</span>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
            
            // Skills
            document.getElementById('skillsContainer').innerHTML = siteData.skills.map((s, catIndex) => `
                <div style="margin-bottom: 30px; padding: 15px; background: var(--white); border-radius: var(--radius-sm);">
                    <h4 style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                        ${s.category}
                        <div>
                            <button class="table-btn edit" onclick="editSkillCategory(${catIndex})" title="Edit">
                                <span class="material-symbols-outlined">edit</span>
                            </button>
                            <button class="table-btn delete" onclick="deleteSkillCategory(${catIndex})" title="Delete">
                                <span class="material-symbols-outlined">delete</span>
                            </button>
                        </div>
                    </h4>
                    <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                        ${s.items.map(item => `
                            <span style="background: var(--light); padding: 5px 15px; border-radius: 20px; font-size: 0.9rem;">${item}</span>
                        `).join('')}
                    </div>
                </div>
            `).join('');
            
            // Certifications
            document.getElementById('certTableBody').innerHTML = siteData.certificates.map((c, index) => `
                <tr>
                    <td>${c.name}</td>
                    <td>${c.issuer}</td>
                    <td>${c.date}</td>
                    <td>
                        <div class="table-actions">
                            <button class="table-btn edit" onclick="editCertification(${index})" title="Edit">
                                <span class="material-symbols-outlined">edit</span>
                            </button>
                            <button class="table-btn delete" onclick="deleteCertification(${index})" title="Delete">
                                <span class="material-symbols-outlined">delete</span>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
            
            // Education
            document.getElementById('eduTableBody').innerHTML = siteData.education.map((e, index) => `
                <tr>
                    <td>${e.degree}</td>
                    <td>${e.institution}</td>
                    <td>${e.period}</td>
                    <td>
                        <div class="table-actions">
                            <button class="table-btn edit" onclick="editEducation(${index})" title="Edit">
                                <span class="material-symbols-outlined">edit</span>
                            </button>
                            <button class="table-btn delete" onclick="deleteEducation(${index})" title="Delete">
                                <span class="material-symbols-outlined">delete</span>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
            
            // Projects
            document.getElementById('projectsTableBody').innerHTML = siteData.projects.map((p, index) => `
                <tr>
                    <td>${p.title}</td>
                    <td>${p.category}</td>
                    <td>${p.featured ? 'âœ“' : 'âœ—'}</td>
                    <td>
                        <div class="table-actions">
                            <button class="table-btn edit" onclick="editProject(${index})" title="Edit">
                                <span class="material-symbols-outlined">edit</span>
                            </button>
                            <button class="table-btn delete" onclick="deleteProject(${index})" title="Delete">
                                <span class="material-symbols-outlined">delete</span>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }
        
        // ==================== APPEARANCE ====================
        function getAppearanceHTML() {
            const appearance = JSON.parse(localStorage.getItem('appearance')) || {};
            return `
                <div class="page-header">
                    <div>
                        <h1>Appearance</h1>
                        <p>Customize your site's look and feel</p>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>Color Scheme</h3>
                    <div class="settings-grid">
                        <div class="form-group">
                            <label>Primary Color</label>
                            <input type="color" class="form-control" id="primaryColor" value="${appearance.primaryColor || '#1a365d'}" style="height: 50px;">
                        </div>
                        <div class="form-group">
                            <label>Accent Color</label>
                            <input type="color" class="form-control" id="accentColor" value="${appearance.accentColor || '#b59410'}" style="height: 50px;">
                        </div>
                        <div class="form-group">
                            <label>Background Color</label>
                            <input type="color" class="form-control" id="bgColor" value="${appearance.bgColor || '#f8fafc'}" style="height: 50px;">
                        </div>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>Typography</h3>
                    <div class="settings-grid">
                        <div class="form-group">
                            <label>Heading Font</label>
                            <select class="form-control" id="headingFont">
                                <option value="Playfair Display" ${appearance.headingFont === 'Playfair Display' ? 'selected' : ''}>Playfair Display</option>
                                <option value="Georgia" ${appearance.headingFont === 'Georgia' ? 'selected' : ''}>Georgia</option>
                                <option value="Times New Roman" ${appearance.headingFont === 'Times New Roman' ? 'selected' : ''}>Times New Roman</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Body Font</label>
                            <select class="form-control" id="bodyFont">
                                <option value="Inter" ${appearance.bodyFont === 'Inter' ? 'selected' : ''}>Inter</option>
                                <option value="Arial" ${appearance.bodyFont === 'Arial' ? 'selected' : ''}>Arial</option>
                                <option value="Helvetica" ${appearance.bodyFont === 'Helvetica' ? 'selected' : ''}>Helvetica</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>Layout Options</h3>
                    <div class="checkbox-group">
                        <input type="checkbox" id="showSidebar" ${appearance.showSidebar !== false ? 'checked' : ''}>
                        <label for="showSidebar">Show sidebar on portfolio</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="showRelated" ${appearance.showRelated !== false ? 'checked' : ''}>
                        <label for="showRelated">Show related projects</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="enableComments" ${appearance.enableComments !== false ? 'checked' : ''}>
                        <label for="enableComments">Enable comments on projects</label>
                    </div>
                </div>
                
                <button class="save-btn" onclick="saveAppearance()">Save Appearance Settings</button>
            `;
        }
        
        function loadAppearanceData() {
            // Already populated in getAppearanceHTML
        }
        
        function saveAppearance() {
            const appearance = {
                primaryColor: document.getElementById('primaryColor').value,
                accentColor: document.getElementById('accentColor').value,
                bgColor: document.getElementById('bgColor').value,
                headingFont: document.getElementById('headingFont').value,
                bodyFont: document.getElementById('bodyFont').value,
                showSidebar: document.getElementById('showSidebar').checked,
                showRelated: document.getElementById('showRelated').checked,
                enableComments: document.getElementById('enableComments').checked
            };
            localStorage.setItem('appearance', JSON.stringify(appearance));
            alert('Appearance settings saved!');
        }
        
        // ==================== EMAIL TEMPLATES ====================
        function getEmailHTML() {
            return `
                <div class="page-header">
                    <div>
                        <h1>Email Templates</h1>
                        <p>Manage email templates and configurations</p>
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="section-header">
                        <h2>Contact Templates</h2>
                    </div>
                    <div class="settings-grid">
                        <div class="setting-item">
                            <div class="setting-label">Contact Submission (Admin)</div>
                            <div class="setting-value">Sent when contact form submitted</div>
                            <button class="save-btn" style="margin-top:10px;" onclick="previewTemplate('contact-admin')">Preview</button>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Contact Submission (User)</div>
                            <div class="setting-value">Auto-reply to user</div>
                            <button class="save-btn" style="margin-top:10px;" onclick="previewTemplate('contact-user')">Preview</button>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Contact Reply</div>
                            <div class="setting-value">Reply to contact inquiry</div>
                            <button class="save-btn" style="margin-top:10px;" onclick="previewTemplate('contact-reply')">Preview</button>
                        </div>
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="section-header">
                        <h2>Request Templates</h2>
                    </div>
                    <div class="settings-grid">
                        <div class="setting-item">
                            <div class="setting-label">Request Submission (Admin)</div>
                            <div class="setting-value">Sent for info requests</div>
                            <button class="save-btn" style="margin-top:10px;" onclick="previewTemplate('request-admin')">Preview</button>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Request Submission (User)</div>
                            <div class="setting-value">Auto-reply to user</div>
                            <button class="save-btn" style="margin-top:10px;" onclick="previewTemplate('request-user')">Preview</button>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">Request Reply</div>
                            <div class="setting-value">Reply to info request</div>
                            <button class="save-btn" style="margin-top:10px;" onclick="previewTemplate('request-reply')">Preview</button>
                        </div>
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="section-header">
                        <h2>Custom Template</h2>
                    </div>
                    <div class="settings-grid">
                        <div class="setting-item">
                            <div class="setting-label">Custom Reply</div>
                            <div class="setting-value">Create custom email</div>
                            <button class="save-btn" style="margin-top:10px;" onclick="previewTemplate('custom')">Preview</button>
                        </div>
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="section-header">
                        <h2>Email Configuration</h2>
                    </div>
                    <div class="settings-grid">
                        <div class="form-group">
                            <label>SMTP Host</label>
                            <input type="text" class="form-control" value="smtp.gmail.com">
                        </div>
                        <div class="form-group">
                            <label>SMTP Port</label>
                            <input type="text" class="form-control" value="587">
                        </div>
                        <div class="form-group">
                            <label>Username</label>
                            <input type="text" class="form-control" value="noreply@davidige.com">
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" class="form-control" value="********">
                        </div>
                    </div>
                    <button class="save-btn" onclick="saveEmailConfig()">Save Configuration</button>
                </div>
            `;
        }
        
        function previewTemplate(template) {
            const templates = {
                'contact-admin': { subject: 'New Contact Form Submission', body: 'A user has submitted a contact form...' },
                'contact-user': { subject: 'Thank you for contacting us', body: 'We have received your message...' },
                'contact-reply': { subject: 'Re: Your inquiry', body: 'Thank you for your message...' },
                'request-admin': { subject: 'New Information Request', body: 'A user has requested information...' },
                'request-user': { subject: 'Your Information Request', body: 'We have received your request...' },
                'request-reply': { subject: 'Re: Information Request', body: 'Regarding your request for information...' },
                'custom': { subject: 'Custom Subject', body: 'Custom message content...' }
            };
            const tmpl = templates[template] || { subject: 'Template', body: 'Content' };
            openModal(`Preview: ${tmpl.subject}`, `
                <div style="background: var(--light); padding: 20px; border-radius: var(--radius-sm);">
                    <p><strong>Subject:</strong> ${tmpl.subject}</p>
                    <hr style="margin: 15px 0;">
                    <p>${tmpl.body}</p>
                </div>
            `, false);
        }
        
        // ==================== SETTINGS ====================
        function getSettingsHTML() {
            return `
                <div class="page-header">
                    <div>
                        <h1>Settings</h1>
                        <p>Configure system settings</p>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>General Settings</h3>
                    <div class="settings-grid">
                        <div class="form-group">
                            <label>Site Name</label>
                            <input type="text" class="form-control" value="David IGE - Product Leader">
                        </div>
                        <div class="form-group">
                            <label>Site URL</label>
                            <input type="text" class="form-control" value="https://davidige.com">
                        </div>
                        <div class="form-group">
                            <label>Admin Email</label>
                            <input type="email" class="form-control" value="admin@davidige.com">
                        </div>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>Moderation Settings</h3>
                    <div class="checkbox-group">
                        <input type="checkbox" id="commentModeration" checked>
                        <label for="commentModeration">Enable comment moderation</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="autoApproveComments">
                        <label for="autoApproveComments">Auto-approve comments from verified users</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="enableReactions" checked>
                        <label for="enableReactions">Enable comment reactions</label>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>Integration Settings</h3>
                    <div class="form-group">
                        <label>Google Analytics ID</label>
                        <input type="text" class="form-control" value="UA-XXXXX-Y">
                    </div>
                    <div class="form-group">
                        <label>reCAPTCHA Site Key</label>
                        <input type="text" class="form-control" value="your-recaptcha-site-key">
                    </div>
                </div>
                
                <button class="save-btn" onclick="saveSettings()">Save Settings</button>
            `;
        }
        
        // ==================== PROFILE ====================
        function getProfileHTML() {
            const siteData = JSON.parse(localStorage.getItem('siteData')) || defaultSiteData;
            return `
                <div class="page-header">
                    <div>
                        <h1>Profile</h1>
                        <p>Manage your profile information</p>
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="settings-grid">
                        <div class="form-group">
                            <label>Full Name</label>
                            <input type="text" class="form-control" id="profileName" value="${siteData.personal.name}">
                        </div>
                        <div class="form-group">
                            <label>Title</label>
                            <input type="text" class="form-control" id="profileTitle" value="${siteData.personal.title}">
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" class="form-control" id="profileEmail" value="${siteData.personal.email}">
                        </div>
                        <div class="form-group">
                            <label>Phone</label>
                            <input type="text" class="form-control" id="profilePhone" value="${siteData.personal.phone}">
                        </div>
                        <div class="form-group">
                            <label>Location</label>
                            <input type="text" class="form-control" id="profileLocation" value="${siteData.personal.location}">
                        </div>
                        <div class="form-group" style="grid-column: span 2;">
                            <label>About</label>
                            <textarea class="form-control" id="profileAbout" rows="4">${siteData.personal.about}</textarea>
                        </div>
                    </div>
                    
                    <h3 style="margin: 30px 0 20px;">Social Links</h3>
                    <div class="settings-grid">
                        <div class="form-group">
                            <label>LinkedIn</label>
                            <input type="text" class="form-control" id="profileLinkedin" value="https://linkedin.com/in/davidige">
                        </div>
                        <div class="form-group">
                            <label>Twitter</label>
                            <input type="text" class="form-control" id="profileTwitter" value="https://twitter.com/davidige">
                        </div>
                        <div class="form-group">
                            <label>GitHub</label>
                            <input type="text" class="form-control" id="profileGithub" value="https://github.com/davidige">
                        </div>
                        <div class="form-group">
                            <label>Medium</label>
                            <input type="text" class="form-control" id="profileMedium" value="https://medium.com/@davidige">
                        </div>
                    </div>
                    
                    <button class="save-btn" onclick="saveProfile()">Update Profile</button>
                </div>
            `;
        }
        
        function loadProfileData() {
            // Already populated in getProfileHTML
        }
        
        function saveProfile() {
            const siteData = JSON.parse(localStorage.getItem('siteData')) || defaultSiteData;
            siteData.personal.name = document.getElementById('profileName').value;
            siteData.personal.title = document.getElementById('profileTitle').value;
            siteData.personal.email = document.getElementById('profileEmail').value;
            siteData.personal.phone = document.getElementById('profilePhone').value;
            siteData.personal.location = document.getElementById('profileLocation').value;
            siteData.personal.about = document.getElementById('profileAbout').value;
            localStorage.setItem('siteData', JSON.stringify(siteData));
            alert('Profile updated successfully!');
        }
        
        // ==================== PROJECTS ====================
        function getProjectsHTML() {
            return `
                <div class="page-header">
                    <div>
                        <h1>Projects</h1>
                        <p>Manage portfolio projects</p>
                    </div>
                    <div class="header-actions">
                        <button class="action-btn primary" onclick="addProject()">
                            <span class="material-symbols-outlined">add</span>
                            Add Project
                        </button>
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Title</th>
                                    <th>Category</th>
                                    <th>Featured</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="projectsManageBody"></tbody>
                        </table>
                    </div>
                </div>
            `;
        }
        
        function loadProjectsData() {
            const siteData = JSON.parse(localStorage.getItem('siteData')) || defaultSiteData;
            document.getElementById('projectsManageBody').innerHTML = siteData.projects.map((p, index) => `
                <tr>
                    <td>${p.title}</td>
                    <td>${p.category}</td>
                    <td>${p.featured ? 'âœ“' : 'âœ—'}</td>
                    <td>
                        <div class="table-actions">
                            <button class="table-btn edit" onclick="editProject(${index})" title="Edit">
                                <span class="material-symbols-outlined">edit</span>
                            </button>
                            <button class="table-btn delete" onclick="deleteProject(${index})" title="Delete">
                                <span class="material-symbols-outlined">delete</span>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }
        
        // ==================== MODAL FUNCTIONS ====================
        let currentEditType = null;
        let currentEditId = null;
        let currentEditIndex = null;
        
        function openModal(title, content, showSave = false, type = null, id = null) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalBody').innerHTML = content;
            document.getElementById('editModal').classList.add('active');
            
            // Show/hide save button
            const saveBtn = document.querySelector('#editModal .modal-footer .save-btn');
            const cancelBtn = document.querySelector('#editModal .modal-footer .action-btn');
            
            if (showSave) {
                saveBtn.style.display = 'inline-flex';
                currentEditType = type;
                currentEditId = id;
            } else {
                saveBtn.style.display = 'none';
                cancelBtn.textContent = 'Close';
            }
        }
        
        function closeModal() {
            document.getElementById('editModal').classList.remove('active');
            currentEditType = null;
            currentEditId = null;
            currentEditIndex = null;
        }
        
        function saveItem() {
            if (currentEditType === 'contact' && currentEditId) {
                const contacts = JSON.parse(localStorage.getItem('contacts')) || [];
                const index = contacts.findIndex(c => c.id === currentEditId);
                if (index !== -1) {
                    contacts[index] = {
                        ...contacts[index],
                        name: document.getElementById('editContactName').value,
                        email: document.getElementById('editContactEmail').value,
                        subject: document.getElementById('editContactSubject').value,
                        message: document.getElementById('editContactMessage').value,
                        status: document.getElementById('editContactStatus').value
                    };
                    localStorage.setItem('contacts', JSON.stringify(contacts));
                }
            } else if (currentEditType === 'request' && currentEditId) {
                const requests = JSON.parse(localStorage.getItem('requests')) || [];
                const index = requests.findIndex(r => r.id === currentEditId);
                if (index !== -1) {
                    requests[index] = {
                        ...requests[index],
                        name: document.getElementById('editRequestName').value,
                        email: document.getElementById('editRequestEmail').value,
                        company: document.getElementById('editRequestCompany').value,
                        requestType: document.getElementById('editRequestType').value,
                        details: document.getElementById('editRequestDetails').value,
                        status: document.getElementById('editRequestStatus').value
                    };
                    localStorage.setItem('requests', JSON.stringify(requests));
                }
            }
            
            closeModal();
            // Refresh current view
            const activeNav = document.querySelector('.nav-link.active');
            if (activeNav) {
                const onclick = activeNav.getAttribute('onclick');
                const section = onclick.match(/'([^']+)'/)[1];
                loadSection(section, activeNav);
            }
        }
        
        // ==================== SITE CONTENT EDIT FUNCTIONS ====================
        function editPersonalInfo() {
            const siteData = JSON.parse(localStorage.getItem('siteData')) || defaultSiteData;
            openModal('Edit Personal Information', `
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" class="form-control" id="editName" value="${siteData.personal.name}">
                </div>
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" class="form-control" id="editTitle" value="${siteData.personal.title}">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" class="form-control" id="editEmail" value="${siteData.personal.email}">
                </div>
                <div class="form-group">
                    <label>Phone</label>
                    <input type="text" class="form-control" id="editPhone" value="${siteData.personal.phone}">
                </div>
                <div class="form-group">
                    <label>Location</label>
                    <input type="text" class="form-control" id="editLocation" value="${siteData.personal.location}">
                </div>
                <div class="form-group">
                    <label>About</label>
                    <textarea class="form-control" id="editAbout" rows="4">${siteData.personal.about}</textarea>
                </div>
            `, true, 'personal');
        }
        
        function editWorkItem(index) {
            const siteData = JSON.parse(localStorage.getItem('siteData')) || defaultSiteData;
            const item = siteData.work[index];
            openModal('Edit Work Experience', `
                <div class="form-group">
                    <label>Company</label>
                    <input type="text" class="form-control" id="editWorkCompany" value="${item.company}">
                </div>
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" class="form-control" id="editWorkTitle" value="${item.title}">
                </div>
                <div class="form-group">
                    <label>Period</label>
                    <input type="text" class="form-control" id="editWorkPeriod" value="${item.period}">
                </div>
                <div class="form-group">
                    <label>Location</label>
                    <input type="text" class="form-control" id="editWorkLocation" value="${item.location}">
                </div>
            `, true, 'work', index);
        }
        
        function deleteWorkItem(index) {
            if (confirm('Delete this work experience?')) {
                const siteData = JSON.parse(localStorage.getItem('siteData')) || defaultSiteData;
                siteData.work.splice(index, 1);
                localStorage.setItem('siteData', JSON.stringify(siteData));
                loadSiteContentData();
            }
        }
        
        function addWorkItem() {
            openModal('Add Work Experience', `
                <div class="form-group">
                    <label>Company</label>
                    <input type="text" class="form-control" id="newWorkCompany">
                </div>
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" class="form-control" id="newWorkTitle">
                </div>
                <div class="form-group">
                    <label>Period</label>
                    <input type="text" class="form-control" id="newWorkPeriod" placeholder="e.g., Jan 2024 - Present">
                </div>
                <div class="form-group">
                    <label>Location</label>
                    <input type="text" class="form-control" id="newWorkLocation">
                </div>
            `, true, 'addWork');
        }
        
        function editCertification(index) {
            const siteData = JSON.parse(localStorage.getItem('siteData')) || defaultSiteData;
            const item = siteData.certificates[index];
            openModal('Edit Certification', `
                <div class="form-group">
                    <label>Name</label>
                    <input type="text" class="form-control" id="editCertName" value="${item.name}">
                </div>
                <div class="form-group">
                    <label>Issuer</label>
                    <input type="text" class="form-control" id="editCertIssuer" value="${item.issuer}">
                </div>
                <div class="form-group">
                    <label>Date</label>
                    <input type="text" class="form-control" id="editCertDate" value="${item.date}">
                </div>
            `, true, 'cert', index);
        }
        
        function deleteCertification(index) {
            if (confirm('Delete this certification?')) {
                const siteData = JSON.parse(localStorage.getItem('siteData')) || defaultSiteData;
                siteData.certificates.splice(index, 1);
                localStorage.setItem('siteData', JSON.stringify(siteData));
                loadSiteContentData();
            }
        }
        
        function addCertification() {
            openModal('Add Certification', `
                <div class="form-group">
                    <label>Name</label>
                    <input type="text" class="form-control" id="newCertName">
                </div>
                <div class="form-group">
                    <label>Issuer</label>
                    <input type="text" class="form-control" id="newCertIssuer">
                </div>
                <div class="form-group">
                    <label>Date</label>
                    <input type="text" class="form-control" id="newCertDate" placeholder="e.g., Jan 2025">
                </div>
            `, true, 'addCert');
        }
        
        function editEducation(index) {
            const siteData = JSON.parse(localStorage.getItem('siteData')) || defaultSiteData;
            const item = siteData.education[index];
            openModal('Edit Education', `
                <div class="form-group">
                    <label>Degree</label>
                    <input type="text" class="form-control" id="editEduDegree" value="${item.degree}">
                </div>
                <div class="form-group">
                    <label>Institution</label>
                    <input type="text" class="form-control" id="editEduInstitution" value="${item.institution}">
                </div>
                <div class="form-group">
                    <label>Period</label>
                    <input type="text" class="form-control" id="editEduPeriod" value="${item.period}">
                </div>
            `, true, 'edu', index);
        }
        
        function deleteEducation(index) {
            if (confirm('Delete this education entry?')) {
                const siteData = JSON.parse(localStorage.getItem('siteData')) || defaultSiteData;
                siteData.education.splice(index, 1);
                localStorage.setItem('siteData', JSON.stringify(siteData));
                loadSiteContentData();
            }
        }
        
        function addEducation() {
            openModal('Add Education', `
                <div class="form-group">
                    <label>Degree</label>
                    <input type="text" class="form-control" id="newEduDegree">
                </div>
                <div class="form-group">
                    <label>Institution</label>
                    <input type="text" class="form-control" id="newEduInstitution">
                </div>
                <div class="form-group">
                    <label>Period</label>
                    <input type="text" class="form-control" id="newEduPeriod" placeholder="e.g., 2020-2024">
                </div>
            `, true, 'addEdu');
        }
        
        function editSkillCategory(index) {
            const siteData = JSON.parse(localStorage.getItem('siteData')) || defaultSiteData;
            const category = siteData.skills[index];
            openModal('Edit Skill Category', `
                <div class="form-group">
                    <label>Category Name</label>
                    <input type="text" class="form-control" id="editSkillCategory" value="${category.category}">
                </div>
                <div class="form-group">
                    <label>Skills (comma separated)</label>
                    <input type="text" class="form-control" id="editSkillItems" value="${category.items.join(', ')}">
                </div>
            `, true, 'skillCat', index);
        }
        
        function deleteSkillCategory(index) {
            if (confirm('Delete this skill category?')) {
                const siteData = JSON.parse(localStorage.getItem('siteData')) || defaultSiteData;
                siteData.skills.splice(index, 1);
                localStorage.setItem('siteData', JSON.stringify(siteData));
                loadSiteContentData();
            }
        }
        
        function addSkillCategory() {
            openModal('Add Skill Category', `
                <div class="form-group">
                    <label>Category Name</label>
                    <input type="text" class="form-control" id="newSkillCategory">
                </div>
                <div class="form-group">
                    <label>Skills (comma separated)</label>
                    <input type="text" class="form-control" id="newSkillItems" placeholder="e.g., Product Vision, Roadmap, Strategy">
                </div>
            `, true, 'addSkillCat');
        }
        
        function editProject(index) {
            const siteData = JSON.parse(localStorage.getItem('siteData')) || defaultSiteData;
            const project = siteData.projects[index];
            openModal('Edit Project', `
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" class="form-control" id="editProjectTitle" value="${project.title}">
                </div>
                <div class="form-group">
                    <label>Category</label>
                    <input type="text" class="form-control" id="editProjectCategory" value="${project.category}">
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="editProjectFeatured" ${project.featured ? 'checked' : ''}>
                    <label>Featured Project</label>
                </div>
            `, true, 'project', index);
        }
        
        function deleteProject(index) {
            if (confirm('Delete this project?')) {
                const siteData = JSON.parse(localStorage.getItem('siteData')) || defaultSiteData;
                siteData.projects.splice(index, 1);
                localStorage.setItem('siteData', JSON.stringify(siteData));
                loadSiteContentData();
            }
        }
        
        function addProject() {
            openModal('Add Project', `
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" class="form-control" id="newProjectTitle">
                </div>
                <div class="form-group">
                    <label>Category</label>
                    <input type="text" class="form-control" id="newProjectCategory" placeholder="e.g., AI Product, Fintech">
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="newProjectFeatured">
                    <label>Featured Project</label>
                </div>
            `, true, 'addProject');
        }
        
        // ==================== EXPORT FUNCTIONS ====================
        function exportContacts() {
            const contacts = JSON.parse(localStorage.getItem('contacts')) || [];
            const dataStr = JSON.stringify(contacts, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'contacts_export.json';
            a.click();
            URL.revokeObjectURL(url);
        }
        
        function exportRequests() {
            const requests = JSON.parse(localStorage.getItem('requests')) || [];
            const dataStr = JSON.stringify(requests, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'requests_export.json';
            a.click();
            URL.revokeObjectURL(url);
        }
        
        // ==================== SETTINGS FUNCTIONS ====================
        function saveSettings() {
            alert('Settings saved successfully!');
        }
        
        function saveEmailConfig() {
            alert('Email configuration saved!');
        }
        
        // ==================== ADDITIONAL HELPER FUNCTIONS ====================
        function viewComment(id) {
            const comments = JSON.parse(localStorage.getItem('comments')) || [];
            const comment = comments.find(c => c.id === id);
            if (comment) {
                openModal('View Comment', `
                    <div style="line-height: 1.8;">
                        <p><strong>Name:</strong> ${comment.name}</p>
                        <p><strong>Project:</strong> ${comment.projectId}</p>
                        <p><strong>Comment:</strong> ${comment.comment}</p>
                        <p><strong>Rating:</strong> ${'â˜…'.repeat(comment.rating)}</p>
                        <p><strong>Date:</strong> ${comment.date}</p>
                        <p><strong>Reactions:</strong> ðŸ‘ ${comment.likes || 0} â¤ï¸ ${comment.hearts || 0} ðŸ‘Ž ${comment.dislikes || 0}</p>
                    </div>
                `, false);
            }
        }
        
        function saveEmailConfig() {
            alert('Email configuration saved!');
        }
    </script>
</body>
</html>